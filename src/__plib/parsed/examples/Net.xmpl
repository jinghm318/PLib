<span style='color: #0000FF;'>&#60;</span><span style='color: #0000FF;'>?</span><span style='color: #000099;'><b>php</b></span>&#160;<br/><span style='color: #0099CC;'>/**</span><br/><span style='color: #0099CC;'>&#160;*&#160;Examples&#160;of&#160;how&#160;to&#160;use&#160;the&#160;HTTPClient&#160;class</span><br/><span style='color: #0099CC;'>&#160;*</span><br/><span style='color: #0099CC;'>&#160;*&#160;@author&#160;Pontus&#160;Östlund&#160;&#60;spam@poppa.se&#62;</span><br/><span style='color: #0099CC;'>*/</span>&#160;<br/><span style='color: #000099;'><b>require_once</b></span>&#160;<span style='color: #008800;'>&#39;PLib.php&#39;</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>PLib<span style='color: #0000FF;'>:</span><span style='color: #0000FF;'>:</span>Import<span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#39;Protocols.Net&#39;</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/><span style='color: #000099;'><b>try</b></span>&#160;<span style='color: #0000FF;'>{</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$delim</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #008800;'>&#34;&#60;pre&#62;&#34;</span>&#160;<span style='color: #0000FF;'>.</span>&#160;<span style='color: #ff0000;'>str_repeat</span><span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#39;-&#39;</span><span style='color: #0000FF;'>,</span>&#160;<span style='color: purple;'>80</span>&#160;<span style='color: #0000FF;'>-</span>&#160;<span style='color: #ff0000;'>strlen</span><span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#39;&#60;pre&#62;&#60;/pre&#62;&#39;</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>)</span>&#160;<span style='color: #0000FF;'>.</span>&#160;<span style='color: #008800;'>&#34;&#60;/pre&#62;\n\n&#34;</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/><span style='color: #0099CC;'>&#160;&#160;/*&#160;===========================================================================</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#160;Example&#160;1.</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#160;Just&#160;a&#160;simple&#160;GET&#160;request&#160;where&#160;we&#160;pass&#160;on&#160;some&#160;query&#160;variables.</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;========================================================================&#160;*/</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;To&#160;enable&#160;cookies.</span><br/>&#160;&#160;<span style='color: #990000;'><b>$cookiejar</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #000099;'><b>new</b></span>&#160;HTTPCookie<span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#39;mycookies&#39;</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$client</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #000099;'><b>new</b></span>&#160;HTTPRequest<span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$cookiejar</b></span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;Cache&#160;the&#160;request&#160;for&#160;ten&#160;minutes</span><br/>&#160;&#160;<span style='color: #990000;'><b>$client</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Cache<span style='color: #0000FF;'>(</span><span style='color: purple;'>60</span><span style='color: #0000FF;'>*</span><span style='color: purple;'>10</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$server</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #008800;'>&#39;http://www.poppa.se/remote/respond.php&#39;</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$vars</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #000099;'><b>array</b></span><span style='color: #0000FF;'>(</span>&#160;<br/>&#160;&#160;&#160;&#160;<span style='color: #008800;'>&#39;name&#39;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style='color: #0000FF;'>=</span><span style='color: #0000FF;'>&#62;</span>&#160;<span style='color: #008800;'>&#39;poppa&#39;</span><span style='color: #0000FF;'>,</span>&#160;<br/>&#160;&#160;&#160;&#160;<span style='color: #008800;'>&#39;local-server&#39;</span>&#160;&#160;&#160;<span style='color: #0000FF;'>=</span><span style='color: #0000FF;'>&#62;</span>&#160;<span style='color: #990000;'><b>$_SERVER</b></span><span style='color: #0000FF;'>[</span><span style='color: #008800;'>&#39;SERVER_NAME&#39;</span><span style='color: #0000FF;'>]</span><span style='color: #0000FF;'>,</span>&#160;<br/>&#160;&#160;&#160;&#160;<span style='color: #008800;'>&#39;local-software&#39;</span>&#160;<span style='color: #0000FF;'>=</span><span style='color: #0000FF;'>&#62;</span>&#160;<span style='color: #990000;'><b>$_SERVER</b></span><span style='color: #0000FF;'>[</span><span style='color: #008800;'>&#39;SERVER_SOFTWARE&#39;</span><span style='color: #0000FF;'>]</span>&#160;<br/>&#160;&#160;<span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;&#160;<br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;A&#160;HTTPResponse&#160;object</span><br/>&#160;&#160;<span style='color: #990000;'><b>$resp</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #990000;'><b>$client</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Get<span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$server</b></span><span style='color: #0000FF;'>,</span>&#160;<span style='color: #990000;'><b>$vars</b></span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>if</b></span>&#160;<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$c</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #990000;'><b>$resp</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Status<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>)</span>&#160;<span style='color: #0000FF;'>!</span><span style='color: #0000FF;'>=</span>&#160;<span style='color: purple;'>200</span><span style='color: #0000FF;'>)</span>&#160;<br/>&#160;&#160;&#160;&#160;<span style='color: #000099;'><b>throw</b></span>&#160;<span style='color: #000099;'><b>new</b></span>&#160;Exception<span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#34;Got&#160;status&#160;code&#160;\&#34;$c\&#34;&#160;aborting&#34;</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>echo</b></span>&#160;<span style='color: #990000;'><b>$resp</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Data<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<span style='color: #0099CC;'>//&#160;or:&#160;echo&#160;(string)$resp</span><br/>&#160;<br/><span style='color: #0099CC;'>&#160;&#160;/*&#160;---------------------------------------------------------------------------</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Result&#160;from&#160;echo</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;---------------------------------------------------------------------------</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Request&#160;from:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;85.228.236.218</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Request&#160;method:&#160;&#160;&#160;&#160;&#160;&#160;GET</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;User-Agent:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PLib&#160;HTTPClient/0.2</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Cookies:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;No&#160;cookies&#160;passed</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;I&#160;set&#160;the&#160;cookie&#160;&#34;responder&#34;&#160;with&#160;the&#160;value&#160;&#34;85.228.236.218&#34;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Query&#160;variables:</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;name:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;poppa</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;local-server:&#160;&#160;&#160;&#160;&#160;&#160;&#160;127.0.0.2</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;local-software:&#160;&#160;&#160;&#160;&#160;Apache/2.2.3&#160;(Ubuntu)&#160;PHP/5.2.1</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;------------------------------------------------------------------------&#160;*/</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>echo</b></span>&#160;<span style='color: #990000;'><b>$delim</b></span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/><span style='color: #0099CC;'>&#160;&#160;/*&#160;===========================================================================</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Lets&#160;do&#160;a&#160;POST&#160;request&#160;while&#160;we&#39;re&#160;at&#160;it&#160;and&#160;relay</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;the&#160;current&#160;users&#160;User-Agent.</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;========================================================================&#160;*/</span>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$extraHeader</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #000099;'><b>array</b></span><span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#39;User-Agent&#39;</span>&#160;<span style='color: #0000FF;'>=</span><span style='color: #0000FF;'>&#62;</span>&#160;<span style='color: #990000;'><b>$_SERVER</b></span><span style='color: #0000FF;'>[</span><span style='color: #008800;'>&#39;HTTP_USER_AGENT&#39;</span><span style='color: #0000FF;'>]</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;Restore&#160;the&#160;cache&#160;time.&#160;This&#160;request&#160;will&#160;not&#160;get&#160;the&#160;same&#160;cache&#160;as</span><br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;above&#160;event&#160;though&#160;both&#160;the&#160;URL&#160;and&#160;query&#160;vars&#160;are&#160;the&#160;same.&#160;The</span><br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;method&#160;is&#160;different&#160;so&#160;the&#160;cache&#160;checksums&#160;will&#160;differ.</span><br/>&#160;&#160;<span style='color: #990000;'><b>$client</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Cache<span style='color: #0000FF;'>(</span><span style='color: purple;'>60</span><span style='color: #0000FF;'>*</span><span style='color: purple;'>10</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$resp</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #990000;'><b>$client</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Post<span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$server</b></span><span style='color: #0000FF;'>,</span>&#160;<span style='color: #990000;'><b>$vars</b></span><span style='color: #0000FF;'>,</span>&#160;<span style='color: #990000;'><b>$extraHeader</b></span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>if</b></span>&#160;<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$c</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #990000;'><b>$resp</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Status<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>)</span>&#160;<span style='color: #0000FF;'>!</span><span style='color: #0000FF;'>=</span>&#160;<span style='color: purple;'>200</span><span style='color: #0000FF;'>)</span>&#160;<br/>&#160;&#160;&#160;&#160;<span style='color: #000099;'><b>throw</b></span>&#160;<span style='color: #000099;'><b>new</b></span>&#160;Exception<span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#34;Got&#160;status&#160;code&#160;\&#34;$c\&#34;&#160;aborting&#34;</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>echo</b></span>&#160;<span style='color: #990000;'><b>$resp</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Data<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/><span style='color: #0099CC;'>&#160;&#160;/*&#160;---------------------------------------------------------------------------</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Result&#160;from&#160;echo</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;---------------------------------------------------------------------------</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Request&#160;from:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;85.228.236.218</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Request&#160;method:&#160;&#160;&#160;&#160;&#160;&#160;POST</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;User-Agent:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Mozilla/5.0&#160;(X11;&#160;U;&#160;Linux&#160;x86_64;&#160;en-US;&#160;rv:1.8.1.4)</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Gecko/20061201&#160;Firefox/2.0.0.4&#160;(Ubuntu-feisty)</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Cookies:</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;responder:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;85.228.236.218</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Post&#160;variables:</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;name:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;poppa</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;local-server:&#160;&#160;&#160;&#160;&#160;&#160;&#160;127.0.0.2</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;local-software:&#160;&#160;&#160;&#160;&#160;Apache/2.2.3&#160;(Ubuntu)&#160;PHP/5.2.1</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Raw&#160;input:</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;name=poppa&#38;local-server=127.0.0.2&#38;local-software=Apache%2F2.2.3+%28Ubuntu\</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;%29+PHP%2F5.2.1</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Decoded&#160;raw&#160;input:</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;name=poppa&#38;local-server=127.0.0.2&#38;local-software=Apache/2.2.3&#160;(Ubuntu)&#160;\</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;PHP/5.2.1</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;------------------------------------------------------------------------&#160;*/</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>echo</b></span>&#160;<span style='color: #990000;'><b>$delim</b></span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;<span style='color: #ff0000;'>unset</span><span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$client</b></span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/><span style='color: #0099CC;'>&#160;&#160;/*&#160;===========================================================================</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Lets&#160;do&#160;a&#160;POST&#160;request&#160;with&#160;an&#160;XML&#160;tree&#160;as&#160;content&#160;(Like&#160;a&#160;SOAP&#160;call)</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;========================================================================&#160;*/</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$rawContent</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<br/>&#160;&#160;<span style='color: #008800;'>&#34;&#60;?xml&#160;version=&#39;1.0&#39;&#160;encoding=&#39;utf-8&#39;?&#62;\n&#34;</span>&#160;&#160;&#160;&#160;&#160;&#160;<span style='color: #0000FF;'>.</span>&#160;<br/>&#160;&#160;<span style='color: #008800;'>&#34;&#60;root&#62;\n&#34;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style='color: #0000FF;'>.</span>&#160;<br/>&#160;&#160;<span style='color: #008800;'>&#34;&#160;&#160;&#60;node&#62;\n&#34;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style='color: #0000FF;'>.</span>&#160;<br/>&#160;&#160;<span style='color: #008800;'>&#34;&#160;&#160;&#160;&#160;&#60;value&#160;id=&#39;12&#39;&#62;Some&#160;value&#60;/value&#62;\n&#34;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style='color: #0000FF;'>.</span>&#160;<br/>&#160;&#160;<span style='color: #008800;'>&#34;&#160;&#160;&#160;&#160;&#60;value&#160;id=&#39;13&#39;&#62;Some&#160;other&#160;value&#60;/value&#62;\n&#34;</span>&#160;<span style='color: #0000FF;'>.</span>&#160;<br/>&#160;&#160;<span style='color: #008800;'>&#34;&#160;&#160;&#60;/node&#62;\n&#34;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style='color: #0000FF;'>.</span>&#160;<br/>&#160;&#160;<span style='color: #008800;'>&#34;&#60;/root&#62;&#34;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;NOTE!&#160;We&#160;don&#39;t&#160;pass&#160;a&#160;HTTPCookie&#160;object&#160;as&#160;argument&#160;to&#160;the&#160;constructor</span><br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;here&#160;so&#160;we&#160;will&#160;get&#160;the&#160;result&#160;&#34;I&#160;set&#160;the&#160;cookie...&#34;&#160;even&#160;though&#160;it&#39;s</span><br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;already&#160;set&#160;from&#160;the&#160;previous&#160;requests.&#160;Not&#160;passing&#160;a&#160;cookie&#160;object&#160;to</span><br/>&#160;&#160;<span style='color: #0099CC;'>//&#160;the&#160;client&#160;means:&#160;Don&#39;t&#160;bother&#160;with&#160;cookies&#160;at&#160;all!</span><br/>&#160;&#160;<span style='color: #990000;'><b>$client</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #000099;'><b>new</b></span>&#160;HTTPRequest<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$client</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Cache<span style='color: #0000FF;'>(</span><span style='color: purple;'>60</span><span style='color: #0000FF;'>*</span><span style='color: purple;'>10</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;&#160;<span style='color: #990000;'><b>$resp</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #990000;'><b>$client</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>DoMethod<span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#39;POST&#39;</span><span style='color: #0000FF;'>,</span>&#160;<span style='color: #990000;'><b>$server</b></span><span style='color: #0000FF;'>,</span>&#160;null<span style='color: #0000FF;'>,</span>&#160;null<span style='color: #0000FF;'>,</span>&#160;<span style='color: #990000;'><b>$rawContent</b></span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>if</b></span>&#160;<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$c</b></span>&#160;<span style='color: #0000FF;'>=</span>&#160;<span style='color: #990000;'><b>$resp</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Status<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>)</span>&#160;<span style='color: #0000FF;'>!</span><span style='color: #0000FF;'>=</span>&#160;<span style='color: purple;'>200</span><span style='color: #0000FF;'>)</span>&#160;<br/>&#160;&#160;&#160;&#160;<span style='color: #000099;'><b>throw</b></span>&#160;<span style='color: #000099;'><b>new</b></span>&#160;Exception<span style='color: #0000FF;'>(</span><span style='color: #008800;'>&#34;Got&#160;status&#160;code&#160;\&#34;$c\&#34;&#160;aborting&#34;</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>echo</b></span>&#160;<span style='color: #990000;'><b>$resp</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>Data<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/>&#160;<br/><span style='color: #0099CC;'>&#160;&#160;/*&#160;---------------------------------------------------------------------------</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Result&#160;from&#160;echo</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;---------------------------------------------------------------------------</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Request&#160;from:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;85.228.236.218</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Request&#160;method:&#160;&#160;&#160;&#160;&#160;&#160;POST</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;User-Agent:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PLib&#160;HTTPClient/0.2</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Cookies:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;No&#160;cookies&#160;passed</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;I&#160;set&#160;the&#160;cookie&#160;&#34;responder&#34;&#160;with&#160;the&#160;value&#160;&#34;85.228.236.218&#34;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Post&#160;variables:&#160;&#160;&#160;&#160;&#160;&#160;No&#160;variables&#160;passed</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Raw&#160;input:</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;%3C%3Fxml+version%3D%271.0%27+encoding%3D%27utf-8%27%3F%3E%0A%3Croot%3E%0\</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;A++%3Cnode%3E%0A++++%3Cvalue+id%3D%2712%27%3ESome+value%3C%2Fvalue%3E%0A+\</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;+++%3Cvalue+id%3D%2713%27%3ESome+other+value%3C%2Fvalue%3E%0A++%3C%2Fnode\</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;%3E%0A%3C%2Froot%3E</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;Decoded&#160;raw&#160;input:</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#60;?xml&#160;version=&#39;1.0&#39;&#160;encoding=&#39;utf-8&#39;?&#62;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#60;root&#62;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#160;&#160;&#60;node&#62;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#160;&#160;&#160;&#160;&#60;value&#160;id=&#39;12&#39;&#62;Some&#160;value&#60;/value&#62;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#160;&#160;&#160;&#160;&#60;value&#160;id=&#39;13&#39;&#62;Some&#160;other&#160;value&#60;/value&#62;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#160;&#160;&#60;/node&#62;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;&#160;&#60;/root&#62;</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*</span><br/><span style='color: #0099CC;'>&#160;&#160;&#160;*&#160;------------------------------------------------------------------------&#160;*/</span>&#160;<br/><span style='color: #0000FF;'>}</span>&#160;<br/><span style='color: #000099;'><b>catch</b></span>&#160;<span style='color: #0000FF;'>(</span>Exception&#160;<span style='color: #990000;'><b>$ex</b></span><span style='color: #0000FF;'>)</span>&#160;<span style='color: #0000FF;'>{</span>&#160;<br/>&#160;&#160;<span style='color: #000099;'><b>die</b></span><span style='color: #0000FF;'>(</span><span style='color: #990000;'><b>$ex</b></span><span style='color: #0000FF;'>-</span><span style='color: #0000FF;'>&#62;</span>getMessage<span style='color: #0000FF;'>(</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>)</span><span style='color: #0000FF;'>;</span>&#160;<br/><span style='color: #0000FF;'>}</span>&#160;<br/><span style='color: #0000FF;'>?</span><span style='color: #0000FF;'>&#62;</span>&#160;<br/>